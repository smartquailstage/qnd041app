
{% load widget_tweaks %}
{% load static %}


<div class="tab-content">     
     
     <div class="tab-pane fade show active" id="tab-general" role="tabpanel">

       
        <div class="card radius-10" style="background-color: #2e2e2e;">

                   <div class="card-body" style="background-color: rgb(79, 78, 78);border-radius: 25px;">
            <h5>Infraestructura en la nube ITC</h5>     
             <h6 class="mb-0"><ion-icon name="cloud-upload-outline"></ion-icon> {{ project.product }}</h6>           
                  {% if project.is_active %}
                  {% else %}
                   <h5 class="mb-0 text-warning bg-light-warning px-2 rounded py-1">
                  <ion-icon name="close-outline"></ion-icon>  {{ project.name }} Proyecto ITC Suspendido por falta de pago
                  </h5>
                  {% endif %}
                
                <p>
  Timpo total de uso:
  {{ total_hours_used_h }} hrs {{ total_hours_used_min }} min
</p>




                <div class="d-flex align-items-center mb-3">
           

                 
                </div>


               <div class="row g-4 align-items-center mb-4">
            
                
         
               </div><!--end row-->
               <div class="d-flex flex-column flex-lg-row align-items-lg-center align-self-end justify-content-lg-between border p-3 gap-3 mb-0 rounded-3">
                <div class="d-flex align-items-center gap-3">
                  <div class="widget-icon rounded-circle bg-light-success text-success">
                    <ion-icon name="server-outline"></ion-icon>
                  </div>
                  <div class="">
                    <h4 class="mb-0">{{ total_percent_store_used }} %</h4>
                    <p class="mb-0 text-secondary">Almacenamiento (GB)</p>
                    <p class="mb-0 text-secondary">Recurso Utilizado</p>
                  </div>
                </div>
                <div class="vr d-none d-lg-block"></div>
                <div class="d-flex align-items-center gap-3">
                  <div class="widget-icon rounded-circle  bg-light-success text-success">
                    <ion-icon name="hardware-chip-outline"></ion-icon>
                  </div>
                  <div class="">
                    <h4 class="mb-0">{{ total_percent_cpu_used }} %</h4>
                    <p class="mb-0 text-secondary">Procesamiento vCPU (milicores)</p>
                    <p class="mb-0 text-secondary">Recurso Utilizado</p>
                  </div>
                </div>
                <div class="vr d-none d-lg-block"></div>
                <div class="d-flex align-items-center gap-3">
                  <div class="widget-icon rounded-circle  bg-light-success text-success">
                   <ion-icon name="speedometer-outline"></ion-icon>
                  </div>
                  <div class="">
                    <h4 class="mb-0">{{ total_percent_memory_used }} %</h4>
                    <p class="mb-0 text-secondary">Memoria RAM (GB) </p>
                     {% if project.is_active %}
                     <p class="mb-0 text-secondary">{{ project.total_memory_available }} Recurso Utilizado </p>
                     {% else%}
                     {% endif %}
                  </div>
                </div>
              </div>
              </div>


          <div class="card-body" >
    <div class="row">
        
            

                         {% if project.is_active %}
                   
  {% if project.is_active %}
    {% if resource_graph %}
     
       
          <img src="data:image/png;base64,{{ resource_graph }}" 
               alt="Gráfico de recursos" class="img-fluid rounded mb-3">
       
    
    {% else %}
      <p class="text-white">No hay métricas históricas registradas para este proyecto.</p>
    {% endif %}
  {% else %}
    <div class="card-body" style="background-color: rgb(46, 46, 46);border-radius: 15px;">
      <div class="d-flex align-items-justify mb-3">
        <h5 class="mb-0"><ion-icon name="cloud-download-outline"></ion-icon> Suspendido</h5>
      </div>

      <p>Hemos suspendido temporalmente el proyecto ITC debido a la falta 
      de pago correspondiente a los recursos mensuales de infraestructura en la nube.</p>
      <p>Si usted está viendo este mensaje, por favor haga clic en el botón de Pago para reactivar el servicio.</p>
      <p>Le recordamos que, de acuerdo con el contrato de alquiler de servicios de nube y con la Ley Orgánica de Protección de Datos Personales del Ecuador, sus datos y recursos no serán eliminados automáticamente.</p>
      <p>Mientras el proyecto permanezca suspendido, los recursos asignados continuarán generando consumo y acumulando deuda, hasta que usted solicite expresamente la terminación definitiva haciendo clic en Eliminar Proyecto.</p>
    </div>
  {% endif %}



                    {% else %}
                                  <div class="card-body" style="background-color: rgb(46, 46, 46);border-radius: 15px; ">
                <div class="d-flex align-items-justify mb-3">
                  <h5 class="mb-0"><ion-icon name="cloud-download-outline"></ion-icon>  Suspendido</h5>

                </div>

  <p>
    Hemos suspendido temporalmente el proyecto ITC debido a la falta 
   
  </p>
<p>
   de pago correspondiente a los recursos mensuales de infraestructura en la nube.
</p>
  <p>
    Si usted está viendo este mensaje, por favor haga clic en el botón de Pago para reactivar el servicio.
  </p>

  <p>
    Le recordamos que, de acuerdo con el contrato de alquiler de servicios de nube y con la Ley Orgánica de Protección de Datos Personales del Ecuador,
  </p>

  <p>
    sus datos y recursos no serán eliminados automáticamente.
  </p>

  <p>
    Mientras el proyecto permanezca suspendido, los recursos asignados continuarán generando consumo y acumulando deuda,
  </p>

  <p>
    hasta que usted solicite expresamente la terminación definitiva haciendo clic en Eliminar Proyecto.
  </p>

</div>


        
                    {% endif %}
                



     
          
        

          
        </div>

            <hr class="my-4">

          </div>
        </div>
      </div>




</div>

