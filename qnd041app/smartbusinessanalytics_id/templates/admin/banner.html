<div class="bg-white dark:bg-base-900 border border-base-200 rounded-default shadow-xs p-6">

    {% if title %}
        <h3 class="text-base font-semibold mb-4">{{ title }}</h3>
    {% endif %}

    {# ===========================
       Tarjetas KPI
       =========================== #}
    {% if cards %}
        <div class="flex flex-col gap-6 lg:flex-row">
            {% for card in cards %}
                <div class="bg-white block flex flex-col grow overflow-hidden p-6 relative rounded-default shadow-xs
                            dark:bg-base-900 dark:border-base-800 border border-base-200 lg:w-1/3">
                    <div class="grow relative">
                        <p class="leading-relaxed mb-0 text-sm">{{ card.title }}</p>
                        <div class="font-semibold text-2xl text-font-important-light tracking-tight dark:text-font-important-dark">
                            {{ card.value }}
                        </div>
                        {% if card.badge %}
                            <div class="absolute right-0 top-0">
                                <span class="inline-block font-semibold h-6 leading-6 px-2 rounded-default
                                    text-[11px] uppercase whitespace-nowrap
                                    {% if card.badge_color == 'success' %}
                                        bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-400
                                    {% elif card.badge_color == 'warning' %}
                                        bg-yellow-100 text-yellow-700 dark:bg-yellow-500/20 dark:text-yellow-400
                                    {% else %}
                                        bg-primary-100 text-primary-700 dark:bg-primary-500/20 dark:text-primary-400
                                    {% endif %}">
                                    {{ card.badge }}
                                </span>
                            </div>
                        {% endif %}
                    </div>
                    {% if card.footer %}
                        <div class="border-t border-base-200 flex items-center -mb-6 -mx-6 mt-6
                                    pb-2 pt-2 px-6 text-sm dark:border-base-800">
                            <span>{{ card.footer }}</span>
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {# ===========================
       Gr√°fico Matplotlib
       =========================== #}
    <div class="grow relative mt-6">
        <img src="{{ chart_image }}" alt="Ingresos vs Egresos" class="w-full h-auto rounded-default shadow-xs"/>
    </div>
</div>
