{% extends "webapp/base.html" %}
{% load i18n wagtailcore_tags wagtailimages_tags static menu_tags %}

{% block content %}

<style>
#home,
.full-screen-bg,
.hero-text-wrap {
  height: 100vh;
}
.hero-text-wrap {
  display: flex;
  justify-content: center;
  align-items: center;
}
</style>

{% main_menu template="webapp/home/header.html" %}

<!-- ================= HERO ================= -->
<section class="pt-0 pb-0" id="home">
  <div class="full-screen-bg">
    {% image page.hero_background  scale-100 as hero_bg %}
    <div class="parallax-img"
         style="background: url('{{ hero_bg.url }}') center center / cover no-repeat;">
    </div>

    <canvas></canvas>

    <div class="hero-text-wrap">
      <div class="hero-text white-color">
        <div class="container text-center">
          <h1 class="white-color font-700">{{ page.hero_name }}</h1>

          <div class="animate-caption">
            <h2 class="white-color mt-30">
              <span class="rotate">{{ page.hero_rotating_text }}</span>
            </h2>
          </div>

          <p class="text-center mt-30">
            {% if page.resume_url %}
            <a href="{{ page.resume_url }}" class="btn btn-outline-white btn-circle">
              {% trans "View Resume" %}
            </a>
            {% endif %}
            <a href="#contact" class="btn btn-dark btn-circle">
              {% trans "Contact to me" %}
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ================= ABOUT ================= -->
<section class="main-section" id="about">
  <div class="container">
    <div class="row">
      <div class="col-sm-8 section-heading">
        <h1 class="text-uppercase font-700">{{ page.about_title }}</h1>
        <div class="mt-30">
          {{ page.about_text|richtext }}
        </div>
      </div>
    </div>

    <div class="row mt-50">
      <!-- SKILLS -->
      <div class="col-md-6 resume-bar">
        {% for skill in page.skills.all %}
        <div class="progress-bar-title">{{ skill.title }}</div>
        <div class="progress">
          <div class="progress-bar" data-width="{{ skill.percent }}">
            <span>{{ skill.percent }}%</span>
          </div>
        </div>
        {% endfor %}
      </div>

      <!-- COUNTERS -->
      <div class="col-md-6">
        <div class="row">
          {% for counter in page.counters.all %}
          <div class="col-md-6 counter text-center col-sm-6 {% if forloop.counter > 2 %}mt-30{% endif %}">
            <i class="icofont {{ counter.icon }} default-icon font-30px"></i>
            <h2 class="count font-700">{{ counter.number }}</h2>
            <h3 class="dark-color">{{ counter.label }}</h3>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ================= PORTFOLIO ================= -->
<section class="pt-0 pb-0" id="portfolio">
  <div class="container-fluid">
    <div class="row">
      <div class="portfolio-container text-center">

        <ul id="portfolio-grid" class="three-column hover-two">
          {% for item in page.portfolio_items.all %}
          {% image item.image scale-100 as img %}
          <li class="portfolio-item" data-groups='["all","{{ item.category }}"]'>
            <div class="portfolio gallery-image-hover">
              <div class="dark-overlay"></div>
              <img src="{{ img.url }}" alt="{{ item.title }}">
              <div class="portfolio-wrap">
                <div class="portfolio-description">
                  <h3 class="portfolio-title">{{ item.title }}</h3>
                  <span class="links">{{ item.category }}</span>
                </div>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>

      </div>
    </div>
  </div>
</section>

<!-- ================= RESUME ================= -->
<section class="dark-bg" id="resume">
  <div class="container">

    <!-- EXPERIENCE -->
    <div class="row">
      <div class="col-sm-8 section-heading white-color">
        <h1 class="text-uppercase font-700">{% trans "My Resume" %}</h1>
        {{ page.experience_message|richtext }}
      </div>
    </div>

    <ul class="resume-slider owl-carousel mt-50">
      {% for exp in page.experiences.all %}
      <li>
        <h3><i class="icofont icofont-calendar"></i> {{ exp.period }}</h3>
        <h3><i class="icofont icofont-briefcase"></i> {{ exp.company }}</h3>
        <h2>{{ exp.role }}</h2>
        {{ exp.description|richtext }}
      </li>
      {% endfor %}
    </ul>

    <!-- EDUCATION -->
    <div class="row mt-50">
      <div class="col-md-12">
        {{ page.education_message|richtext }}
        <ul class="resume-slider owl-carousel">
          {% for edu in page.education_items.all %}
          <li>
            <h3><i class="icofont icofont-calendar"></i> {{ edu.period }}</h3>
            <h3><i class="icofont icofont-university"></i> {{ edu.institution }}</h3>
            <h2>{{ edu.degree }}</h2>
            {{ edu.description|richtext }}
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>

  </div>
</section>

<!-- ================= CONTACT ================= -->
<section class="contact-us" id="contact">
  <div class="container">
    <div class="row">
      <div class="col-sm-8 section-heading">
        <h1 class="text-uppercase font-700">{% trans "Contact Me" %}</h1>
      </div>
    </div>

    <div class="row mt-50">
      <div class="col-sm-12 col-md-offset-2 col-md-8">
        <form action="{% pageurl page %}" method="POST">
          {% csrf_token %}
          {{ form.as_p }}
          <p class="text-center">
            <button type="submit" class="btn btn-color btn-circle">
              {% trans "Send Request" %}
            </button>
          </p>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- ================= FOOTER ================= -->
<section class="dark-bg flat-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <ul class="social-media">
          {% for social in page.social_links.all %}
          <li>
            <a href="{{ social.url }}" class="icofont {{ social.icon }}" target="_blank"></a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</section>

{% include "webapp/home/footer_section.html" %}


<script>
var canvas = document.querySelector("canvas");
canvas.width = canvas.clientWidth;
canvas.height = canvas.clientHeight;
var ctx = canvas.getContext("2d");

var TAU = 2 * Math.PI;

times = [];
function loop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  update();
  draw();
  requestAnimationFrame(loop);
}

function Ball (startX, startY, startVelX, startVelY) {
  this.x = startX || Math.random() * canvas.width;
  this.y = startY || Math.random() * canvas.height;
  this.vel = {
    x: startVelX || Math.random() * 2 - 1,
    y: startVelY || Math.random() * 2 - 1
  };
  this.update = function(canvas) {
    if (this.x > canvas.width + 50 || this.x < -50) {
      this.vel.x = -this.vel.x;
    }
    if (this.y > canvas.height + 50 || this.y < -50) {
      this.vel.y = -this.vel.y;
    }
    this.x += this.vel.x;
    this.y += this.vel.y;
  };
  this.draw = function(ctx, can) {
    ctx.beginPath();
    var distM = distMouse(this);
    if (distM > 200) {
      ctx.fillStyle = "#f1f1f1";
      ctx.globalAlpha = .2;
    } else {
      ctx.fillStyle = '#c94b4b';
      ctx.globalAlpha = 1 - distM / 240;
    }
    ctx.arc((0.5 + this.x) | 0, (0.5 + this.y) | 0, 3, 0, TAU, false);
    ctx.fill();
  }
}

var balls = [];
for (var i = 0; i < canvas.width * canvas.height / (65*65); i++) {
  balls.push(new Ball(Math.random() * canvas.width, Math.random() * canvas.height));
}

var lastTime = Date.now();
function update() {
  var diff = Date.now() - lastTime;
  for (var frame = 0; frame * 16.6667 < diff; frame++) {
    for (var index = 0; index < balls.length; index++) {
      balls[index].update(canvas);
    }
  }
  lastTime = Date.now();
}
var mouseX = -1e9, mouseY = -1e9;
document.addEventListener('mousemove', function(event) {
  mouseX = event.clientX;
  mouseY = event.clientY;
});

function distMouse(ball) {
  return Math.hypot(ball.x - mouseX, ball.y - mouseY);
}

function draw() {
  for (var index = 0; index < balls.length; index++) {
    var ball = balls[index];
    ctx.beginPath();
    for (var index2 = balls.length - 1; index2 > index; index2 += -1) {
      var ball2 = balls[index2];
	var dist = Math.hypot(ball.x - ball2.x, ball.y - ball2.y);
        if (dist < 100) {
          var distM = distMouse(ball2);
          if (distM > 150) {
            ctx.strokeStyle = "#c94b4b";
          	ctx.globalAlpha = .2;
          } else {
            ctx.globalAlpha = 0;
          }
          ctx.moveTo((0.5 + ball.x) | 0, (0.5 + ball.y) | 0);
          ctx.lineTo((0.5 + ball2.x) | 0, (0.5 + ball2.y) | 0);
        }
}
    ctx.stroke();
    ball.draw(ctx, canvas);
  }
}

// Start
loop();
//# sourceURL=pen.js
</script>



{% endblock %}
