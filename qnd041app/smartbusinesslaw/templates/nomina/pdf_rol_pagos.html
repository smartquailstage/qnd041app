{% load i18n %}
{% load static %}

<div class="page-number"></div>

<header>
    <div class="header-left">
        <img src="{% static 'css/logosmartquail.png' %}" alt="SmartQuail Logo">
    </div>

    <div class="header-center">
        ROL DE PAGOS No. {{ nomina.id|stringformat:"05d" }}
    </div>

    <div class="header-right">
        <strong>
            {{ nomina.razon_social }}<br>
            {{ nomina.mes }}/{{ nomina.anio }}
        </strong>
    </div>
</header>

<div class="titulos">
    <h2>COMPROBANTE DE PAGO DE REMUNERACIONES</h2>
    <p><strong>{{ nomina.razon_social }}</strong></p>
</div>

<div class="preambulo">
    <p>
        En cumplimiento de lo dispuesto por el
        <strong>Código del Trabajo</strong> y las normas del
        <strong>Instituto Ecuatoriano de Seguridad Social (IESS)</strong>,
        se emite el presente <strong>Rol de Pagos</strong>
        correspondiente al período
        <strong>{{ nomina.mes }}/{{ nomina.anio }}</strong>.
    </p>
</div>

<div class="clausulas">
    <h3>1. Datos del Contrato</h3>

    <p>
        <strong>Contrato SUT:</strong> {{ nomina.contrato }}<br>
        <strong>Fecha de ingreso:</strong> {{ nomina.fecha_ingreso }}<br>
        {% if nomina.fecha_salida %}
            <strong>Fecha de salida:</strong> {{ nomina.fecha_salida }}<br>
        {% endif %}
    </p>
</div>

<div class="clausulas">
    <h3>2. Ingresos Gravados</h3>

    <p>
        <strong>Sueldo base:</strong> {{ nomina.sueldo_base }}<br>
        <strong>Horas extra:</strong> {{ nomina.horas_extra|default:"0.00 USD" }}<br>

        <strong>Bonificaciones:</strong>
        {% if nomina.recibe_bonificacion %}
            {{ nomina.otros_ingresos }}
        {% else %}
            <em>No grava</em>
        {% endif %}
        <br>

        <strong>Décimo tercero:</strong>
        {% if nomina.recibe_decimo_tercero %}
            {{ nomina.decimo_tercero }}
        {% else %}
            <em>No grava</em>
        {% endif %}
        <br>

        <strong>Décimo cuarto:</strong>
        {% if nomina.recibe_decimo_cuarto %}
            {{ nomina.decimo_cuarto }}
        {% else %}
            <em>No grava</em>
        {% endif %}
        <br>

        <strong>Utilidades:</strong>
        {% if nomina.recibe_utilidades %}
            {{ nomina.utilidades }}
        {% else %}
            <em>No grava</em>
        {% endif %}
        <br>

        <strong>Vacaciones:</strong>
        {% if nomina.recibe_vacaciones %}
            {{ nomina.vacaciones }}
        {% else %}
            <em>No grava</em>
        {% endif %}
    </p>

    <p>
        <strong>Total ingresos:</strong>
        <strong>{{ nomina.total_ingresos }}</strong>
    </p>
</div>

<div class="clausulas">
    <h3>3. Descuentos</h3>

    <p>
        <strong>Aporte IESS trabajador (9.45%):</strong>
        {{ nomina.aporte_iess_trabajador }}<br>

        <strong>Otros descuentos:</strong>
        {% if nomina.recibe_descuento %}
            {{ nomina.descuentos }}
            <br>
            <em>Motivo:</em> {{ nomina.get_razon_descuento_display }}
        {% else %}
            <em>No aplica</em>
        {% endif %}
    </p>
</div>

<div class="clausulas">
    <h3>4. Valor Neto a Pagar</h3>

    <p>
        Luego de aplicar los ingresos, aportes al IESS y descuentos legales,
        el valor neto a pagar al trabajador es:
    </p>

    <p>
        <strong>SUELDO NETO A PAGAR:</strong>
        <strong>{{ nomina.sueldo_a_pagar }}</strong>
    </p>
</div>

<hr>

<h3><strong>CERTIFICACIÓN</strong></h3>

<div class="certificaciones">
    <div class="cert-left">
        <img src="{{ qr_url }}" alt="QR de certificación">
        <p>
            <strong>{{ nomina.razon_social }}</strong><br>
            RUC: {{ nomina.ruc_empleador }}
        </p>
    </div>

    <div class="cert-right">
        <div class="cert-sign">
            <div class="signature-box"></div>
            <p>
                <strong>EMPLEADOR</strong><br>
                {{ nomina.razon_social }}
            </p>
        </div>
    </div>
</div>

<hr>

<div class="contract-note">
    <strong>HASH DE VERIFICACIÓN:</strong> {{ nomina.hash_contrato }}
</div>

<footer>
    <p>
        SmartQuail, Inc. — Innovación en Soluciones Tecnológicas<br>
        Web: smartquail.io | Email: support@smartquail.io | Tel: +1 (305) 901-5734<br>
        © 2026 SmartQuail, Inc. Todos los derechos reservados.
    </p>
</footer>
